<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Jeu du Pendu : Le Tour du Monde</title>
    <style>
        :root { --primary: #e67e22; --dark: #2c3e50; --bg: #fdf2e9; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 90%; max-width: 600px; text-align: center; }
        h1 { color: var(--primary); margin-top: 0; border-bottom: 2px solid var(--primary); padding-bottom: 10px; }
        #lives { font-size: 1.2em; color: #e74c3c; font-weight: bold; margin: 10px 0; }
        #word-display { font-size: 2.5em; letter-spacing: 12px; margin: 20px 0; font-family: 'Courier New', monospace; font-weight: bold; color: var(--dark); }
        .hint { color: #7f8c8d; font-style: italic; margin-bottom: 20px; min-height: 24px; }
        .keyboard { display: grid; grid-template-columns: repeat(auto-fit, minmax(40px, 1fr)); gap: 8px; margin-top: 20px; }
        .key { padding: 12px; border: 2px solid #eee; border-radius: 8px; background: #f8f9fa; font-weight: bold; cursor: pointer; font-size: 1.1em; transition: 0.2s; }
        .key:hover:not(:disabled) { background: var(--primary); color: white; border-color: var(--primary); }
        .key:disabled { opacity: 0.4; cursor: not-allowed; }
        #message { font-size: 1.3em; font-weight: bold; margin: 20px 0; min-height: 30px; }
        .win { color: #27ae60; }
        .lose { color: #e74c3c; }
        #btn-restart { display: none; margin: 20px auto; padding: 12px 30px; background: var(--dark); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1em; font-weight: bold; }
        #btn-restart:hover { background: var(--primary); }
    </style>
</head>
<body>

<div class="container">
    <h1>Le Pendu de Phileas Fogg</h1>
    <div id="lives">Vies restantes : 7</div>
    
    <div id="hangman-status" style="font-size: 1.5em; margin: 10px;">
        🏠 —— 🚂 —— 🚢 —— 🕒
    </div>

    <div id="word-display">_ _ _ _ _</div>
    <div id="hint-text" class="hint">Indice : ...</div>
    <div id="message"></div>
    
    <div class="keyboard" id="keyboard"></div>
    
    <button id="btn-restart" onclick="initGame()">Recommencer l'aventure</button>
    <p style="margin-top:20px; font-size: 0.8em; color: #bdc3c7;">(Vous pouvez aussi taper les lettres sur votre clavier)</p>
</div>

<script>
    const dictionary = [
        {w: "FLEGMATIQUE", h: "Qualité d'une personne qui ne s'énerve jamais."},
        {w: "HERCULEEN", h: "Se dit d'une force extraordinaire (comme celle de Passepartout)."},
        {w: "SEDENTAIRE", h: "Contraire de voyageur : qui reste toujours chez soi."},
        {w: "GENTLEMAN", h: "Homme distingué, poli et riche de la société anglaise."},
        {w: "ECUYER", h: "Ancien métier de cirque consistant à faire des acrobaties à cheval."},
        {w: "SUPERFLU", h: "Ce qui n'est pas nécessaire, ce qui est en trop."},
        {w: "PENDULE", h: "Instrument qui donne l'heure avec une précision mathématique."},
        {w: "DOMESTIQUE", h: "Personne qui travaille au service d'un maître dans une maison."},
        {w: "INCONTESTABLEMENT", h: "Mot pour dire que quelque chose est absolument certain."},
        {w: "COMMUNICATIF", h: "Se dit de quelqu'un qui aime parler et partager ses émotions."}
    ];

    let word, hint, guessed, lives;

    function initGame() {
        const selected = dictionary[Math.floor(Math.random() * dictionary.length)];
        word = selected.w;
        hint = selected.h;
        guessed = [];
        lives = 7;
        
        document.getElementById('lives').innerText = `Vies restantes : ${lives}`;
        document.getElementById('hint-text').innerText = "Indice : " + hint;
        document.getElementById('message').innerText = "";
        document.getElementById('message').className = "";
        document.getElementById('btn-restart').style.display = "none";
        
        createKeyboard();
        updateDisplay();
    }

    function createKeyboard() {
        const kb = document.getElementById('keyboard');
        kb.innerHTML = "";
        "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").forEach(letter => {
            const button = document.createElement('button');
            button.className = "key";
            button.id = "key-" + letter;
            button.innerText = letter;
            button.onclick = () => handleGuess(letter);
            kb.appendChild(button);
        });
    }

    function handleGuess(letter) {
        if (guessed.includes(letter) || lives <= 0) return;
        
        guessed.push(letter);
        document.getElementById("key-" + letter).disabled = true;

        if (word.includes(letter)) {
            updateDisplay();
            checkWin();
        } else {
            lives--;
            document.getElementById('lives').innerText = `Vies restantes : ${lives}`;
            if (lives <= 0) {
                document.getElementById('message').innerText = "PERDU ! Le mot était : " + word;
                document.getElementById('message').className = "lose";
                endGame();
            }
        }
    }

    function updateDisplay() {
        const display = word.split("").map(l => guessed.includes(l) ? l : "_").join(" ");
        document.getElementById('word-display').innerText = display;
    }

    function checkWin() {
        if (!document.getElementById('word-display').innerText.includes("_")) {
            document.getElementById('message').innerText = "BRAVO ! Vous avez gagné !";
            document.getElementById('message').className = "win";
            endGame();
        }
    }

    function endGame() {
        const keys = document.getElementsByClassName('key');
        for (let k of keys) k.disabled = true;
        document.getElementById('btn-restart').style.display = "block";
    }

    // Écouteur pour le clavier physique
    window.addEventListener('keydown', (e) => {
        const key = e.key.toUpperCase();
        if (/^[A-Z]$/.test(key)) {
            handleGuess(key);
        }
    });

    initGame();
</script>
</body>
</html>