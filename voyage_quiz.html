<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Acad√©mie | Quiz Voyage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap');
        body { font-family: 'Quicksand', sans-serif; background-color: #ebf2f7; margin: 0; height: 100vh; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        .game-card { width: 100%; max-width: 480px; background: white; height: 95vh; display: flex; flex-direction: column; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); overflow: hidden; }
        .header-nav-btn { cursor: pointer; transition: all 0.2s; padding: 4px 8px; border-radius: 8px; }
        .header-nav-btn:hover { background-color: #f0f9ff; }
        .img-box { width: 100%; height: 25vh; background: #f8fafc; display: flex; align-items: center; justify-content: center; overflow: hidden; border-bottom: 1px solid #f1f5f9; }
        .img-box img { width: 100%; height: 100%; object-fit: cover; }
        .quiz-body { padding: 20px; flex: 1; display: flex; flex-direction: column; text-align: center; }
        .question-text { font-size: 1.15rem; font-weight: 800; color: #1e293b; margin: 10px 0; min-height: 2.8rem; line-height: 1.3; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; }
        .opt-btn { background: #fdfdfd; border: 2px solid #e2e8f0; padding: 14px 8px; border-radius: 16px; font-weight: 700; color: #475569; cursor: pointer; transition: all 0.2s; min-height: 60px; display: flex; align-items: center; justify-content: center; font-size: 0.85rem; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 20% { transform: translateX(-8px); } 60% { transform: translateX(8px); } }
        .animate-error { animation: shake 0.4s ease-in-out; border-color: #ef4444 !important; background: #fef2f2 !important; color: #b91c1c !important; }
        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.08); } 100% { transform: scale(1); } }
        .animate-correct { animation: pop 0.4s ease-in-out; border-color: #22c55e !important; background: #f0fdf4 !important; color: #15803d !important; }
        .feedback-box { display: none; margin-top: 15px; padding: 12px; border-radius: 15px; font-size: 0.85rem; line-height: 1.4; font-weight: 600; text-align: left; }
        .is-correct { background: #f0fdf4; color: #166534; border: 1px solid #bbf7d0; }
        .is-wrong { background: #fef2f2; color: #991b1b; border: 1px solid #fecaca; }
        .btn-next { background: #0ea5e9; color: white; width: 100%; padding: 16px; border-radius: 18px; font-weight: 800; text-transform: uppercase; margin-top: auto; box-shadow: 0 4px 0 #0284c7; display: none; cursor: pointer; text-align: center; }
    </style>
</head>
<body>

    <div class="game-card">
        <header class="p-4 flex justify-between items-center border-b border-slate-100">
            <div onclick="window.location.href='index.html'" class="header-nav-btn flex items-center gap-2 text-sky-600 font-black text-sm uppercase">
                <i class="fas fa-compass"></i> Mon Acad√©mie
            </div>
            <span id="lvl-display" class="bg-sky-50 text-sky-600 text-[10px] font-bold px-3 py-1 rounded-full border border-sky-100">NIVEAU 1</span>
        </header>

        <div class="h-1.5 bg-slate-100"><div id="progress-bar" class="h-full bg-sky-500 w-0 transition-all duration-500"></div></div>
        <div class="img-box"><img id="q-img" src="" alt="Image"></div>
        <div class="quiz-body" id="quiz-ui">
            <div id="q-counter" class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Question 1 / 15</div>
            <h2 id="q-text" class="question-text"></h2>
            <div id="grid" class="options-grid"></div>
            <div id="feedback" class="feedback-box"></div>
            <div id="next-btn" onclick="goToNext()" class="btn-next">Continuer <i class="fas fa-arrow-right ml-2"></i></div>
        </div>
    </div>

<script>
    const dict = {
        "Britannique": "Relatif √† la Grande-Bretagne. Phileas Fogg est un gentleman anglais.",
        "Fran√ßais": "Relatif √† la France. C'est la nationalit√© du valet Passepartout.",
        "Am√©ricain": "Relatif au continent ou aux habitants des √âtats-Unis.",
        "Indien": "Habitant de l'Inde, pays d'Asie o√π Fogg sauve la princesse Aouda.",
        "Italien": "Habitant de l'Italie, pays d'Europe en forme de botte.",
        "Espagnol": "Habitant de l'Espagne, pays voisin de la France.",
        "P√©n√©lope": "L'√©pouse fid√®le d'Ulysse qui l'attend √† Ithaque durant 20 ans.",
        "Ath√©na": "D√©esse de la sagesse qui prot√®ge et guide Ulysse dans ses √©preuves.",
        "Circ√©": "Magicienne qui transforme les marins en animaux sur son √Æle.",
        "Calypso": "Nymphe qui retient Ulysse sur l'√Æle d'Ogygie pendant 7 ans.",
        "Passepartout": "Le valet de chambre d√©vou√© de Phileas Fogg.",
        "Fix": "Inspecteur de police qui poursuit Fogg en le prenant pour un voleur de banque.",
        "Aouda": "Princesse indienne sauv√©e par Fogg et qui l'accompagne √† Londres.",
        "Hom√®re": "Po√®te grec antique √† qui on attribue l'√©criture de l'Odyss√©e.",
        "Jules Verne": "√âcrivain fran√ßais, auteur du roman 'Le Tour du monde en 80 jours'.",
        "Nausicaa": "Princesse qui recueille Ulysse apr√®s son naufrage chez les Ph√©aciens.",
        "T√©l√©maque": "Le fils d'Ulysse et de P√©n√©lope, parti chercher son p√®re.",
        "Zeus": "Le roi des dieux dans la mythologie grecque, ma√Ætre de la foudre.",
        "Pos√©idon": "Dieu de la mer qui poursuit Ulysse de sa col√®re.",
        "H√©lios": "Le dieu du Soleil. Les marins d'Ulysse ne devaient pas manger ses b≈ìufs.",
        "Had√®s": "Dieu des enfers et du monde souterrain, le royaume des morts.",
        "√âole": "Le ma√Ætre des vents qui aide Ulysse avec une outre contenant les vents.",
        "Ithaque": "L'√Æle grecque dont Ulysse est le roi l√©gitime.",
        "Gibraltar": "D√©troit qui s√©pare l'Europe de l'Afrique au sud de l'Espagne.",
        "Suez": "Canal artificiel en √âgypte reliant la M√©diterran√©e √† la mer Rouge.",
        "Panama": "Canal d'Am√©rique centrale reliant l'Atlantique au Pacifique.",
        "Manche": "Mer situ√©e entre la France et l'Angleterre.",
        "Maghreb": "R√©gion d'Afrique du Nord comprenant le Maroc, l'Alg√©rie et la Tunisie.",
        "Sahel": "Zone de transition entre le d√©sert du Sahara et la savane africaine.",
        "Europe": "Continent situ√© √† l'ouest de l'Asie, o√π se trouve la France.",
        "Asie": "Le plus grand continent du monde, travers√© par Phileas Fogg.",
        "L'Inde": "Vaste pays d'Asie du Sud, √©tape majeure du voyage de Fogg.",
        "Bombay": "Grande ville d'Inde (aujourd'hui Mumbai) o√π Fogg arrive en paquebot.",
        "Londres": "Capitale du Royaume-Uni, point de d√©part du d√©fi de Fogg.",
        "Paris": "Capitale de la France, premi√®re ville travers√©e par Fogg et son valet.",
        "Sicile": "Grande √Æle italienne au centre de la mer M√©diterran√©e.",
        "Cr√®te": "√éle grecque c√©l√®bre pour le mythe du Minotaure.",
        "Corse": "√éle fran√ßaise situ√©e au sud-est de la France continentale.",
        "Composter": "Valider son billet de train dans une machine avant le d√©part.",
        "Payer": "Donner de l'argent en √©change d'un objet ou d'un service.",
        "Plier": "Rabattre une partie de quelque chose (comme une carte de voyage).",
        "Perdre": "Ne plus avoir en sa possession un objet (comme son billet).",
        "Odyss√©e": "Un voyage tr√®s long, difficile et rempli d'aventures.",
        "Iliade": "Po√®me antique racontant la c√©l√®bre guerre de Troie.",
        "Pari": "Engagement d'argent sur le r√©sultat d'un d√©fi (comme le tour du monde).",
        "Exil": "S√©jour forc√© loin de sa patrie pour des raisons politiques ou punitives.",
        "Cyclope": "G√©ant de la mythologie avec un seul ≈ìil au milieu du front.",
        "Polyph√®me": "Nom du Cyclope aveugl√© par Ulysse dans sa grotte.",
        "Sir√®nes": "Cr√©atures marines au chant envo√ªtant qui perd les marins.",
        "Dragon": "Animal imaginaire ail√©, symbole de force, crachant souvent du feu.",
        "G√©ant": "Personnage d'une taille et d'une force immenses.",
        "80 jours": "La dur√©e record du pari fou r√©alis√© par Phileas Fogg.",
        "20 ans": "Le temps total (10 ans de guerre + 10 ans de voyage) pass√© par Ulysse loin de chez lui.",
        "10 ans": "Dur√©e de la guerre de Troie ou du retour d'Ulysse selon les √©tapes.",
        "1 an": "P√©riode de temps de 365 jours.",
        "30 jours": "Dur√©e classique d'un mois de voyage.",
        "Passeport": "Livret officiel indispensable pour franchir les fronti√®res √©trang√®res.",
        "Visa": "Autorisation sp√©ciale pour entrer dans certains pays.",
        "Ticket": "Billet prouvant un achat ou un droit d'acc√®s (m√©tro, bus).",
        "Billet": "Titre de transport permettant de voyager (train, avion).",
        "Journal": "Publication quotidienne o√π Fogg lit qu'un tour du monde est possible.",
        "Fl√¢ner": "Se promener sans but, tranquillement, pour d√©couvrir un lieu.",
        "Courir": "Se d√©placer tr√®s vite √† pied, comme Passepartout pour ne pas rater le train.",
        "Marcher": "Se d√©placer √† pied √† une allure normale.",
        "Naviguer": "Voyager sur l'eau √† bord d'un navire.",
        "Voguer": "Se d√©placer sur l'eau, port√© par les √©l√©ments.",
        "Accoster": "Action d'un navire qui vient toucher le quai du port.",
        "D√©coller": "Action d'un avion qui s'√©l√®ve dans les airs.",
        "Couler": "Sombrer vers le fond de l'eau, comme un navire en d√©tresse.",
        "Paquebot": "Grand navire luxueux transportant des passagers sur de longues distances.",
        "Caravelle": "Petit navire √† voiles utilis√© lors des grandes d√©couvertes.",
        "Eldorado": "Pays imaginaire rempli d'or que recherchaient les explorateurs.",
        "Escale": "Arr√™t temporaire dans un port ou a√©roport pendant un long trajet.",
        "Itin√©raire": "Description pr√©cise du chemin √† suivre pour un voyage.",
        "Boussole": "Instrument indiquant le Nord magn√©tique pour s'orienter.",
        "Transatlantique": "Qui permet de traverser l'Oc√©an Atlantique.",
        "Charybde": "Monstre marin cr√©ant un tourbillon qui aspire les navires.",
        "Scylla": "Monstre √† six t√™tes d√©vorant les marins au milieu des rochers.",
        "L'√©l√©phant": "Animal que Fogg ach√®te pour traverser une partie de l'Inde.",
        "Reform Club": "Le club londonien tr√®s chic o√π Phileas Fogg passe ses journ√©es.",
        "Carrosse": "V√©hicule √† chevaux luxueux utilis√© autrefois.",
        "Hugo": "Victor Hugo, c√©l√®bre √©crivain fran√ßais (Les Mis√©rables).",
        "Voltaire": "Philosophe fran√ßais du 18√®me si√®cle.",
        "Livre": "Ouvrage √©crit ou monnaie utilis√©e par Phileas Fogg."
    };

    const levels = [
        [ // NIVEAU 1
            {q:"Nationalit√© de Phileas Fogg ?", a:"Britannique", c:["Britannique", "Fran√ßais", "Indien", "Am√©ricain"], i:"https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?w=500"},
            {q:"√âpouse fid√®le d'Ulysse ?", a:"P√©n√©lope", c:["Ath√©na", "Calypso", "Circ√©", "P√©n√©lope"], i:"https://images.unsplash.com/photo-1491849593786-7d903069875c?w=500"},
            {q:"D√©troit entre l'Espagne et le Maroc ?", a:"Gibraltar", c:["Suez", "Gibraltar", "Panama", "Manche"], i:"https://images.unsplash.com/photo-1539701938214-0d9736e1c16b?w=500"},
            {q:"√éle natale d'Ulysse ?", a:"Ithaque", c:["Ithaque", "Sicile", "Cr√®te", "Corse"], i:"https://images.unsplash.com/photo-1533105079780-92b9be482077?w=500"},
            {q:"Action obligatoire avec le billet ?", a:"Composter", c:["Payer", "Composter", "Plier", "Perdre"], i:"https://images.unsplash.com/photo-1474487548417-781cb71495f3?w=500"},
            {q:"R√©cit du voyage d'Ulysse ?", a:"Odyss√©e", c:["Odyss√©e", "Iliade", "Pari", "Exil"], i:"https://images.unsplash.com/photo-1491849593786-7d903069875c?w=500"},
            {q:"Monstre √† un seul ≈ìil ?", a:"Cyclope", c:["Cyclope", "Sir√®nes", "Dragon", "G√©ant"], i:"https://images.unsplash.com/photo-1533105079780-92b9be482077?w=500"},
            {q:"Dieu de la mer ?", a:"Pos√©idon", c:["Zeus", "H√©lios", "Pos√©idon", "Had√®s"], i:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=500"},
            {q:"Le pari de Fogg dure...", a:"80 jours", c:["10 ans", "80 jours", "1 an", "30 jours"], i:"https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?w=500"},
            {q:"Document pour les fronti√®res ?", a:"Passeport", c:["Passeport", "Billet", "Journal", "Visa"], i:"https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?w=500"},
            {q:"Canal en √âgypte ?", a:"Suez", c:["Suez", "Panama", "Gibraltar", "Manche"], i:"https://images.unsplash.com/photo-1503177119275-0aa32b3a9368?w=500"},
            {q:"Arriver au port ?", a:"Accoster", c:["Accoster", "Voguer", "D√©coller", "Couler"], i:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=500"},
            {q:"Auteur de l'Odyss√©e ?", a:"Hom√®re", c:["Hom√®re", "Jules Verne", "Hugo", "Voltaire"], i:"https://images.unsplash.com/photo-1491849593786-7d903069875c?w=500"},
            {q:"Maroc et Alg√©rie font partie du...", a:"Maghreb", c:["Maghreb", "Sahel", "Europe", "Asie"], i:"https://images.unsplash.com/photo-1539701938214-0d9736e1c16b?w=500"},
            {q:"Se promener sans but ?", a:"Fl√¢ner", c:["Courir", "Fl√¢ner", "Marcher", "Naviguer"], i:"https://images.unsplash.com/photo-1539701938214-0d9736e1c16b?w=500"}
        ],
        [ // NIVEAU 2
            {q:"Nationalit√© de Passepartout ?", a:"Fran√ßais", c:["Britannique", "Fran√ßais", "Italien", "Espagnol"], i:"https://images.unsplash.com/photo-1491849593786-7d903069875c?w=500"},
            {q:"D√©esse qui prot√®ge Ulysse ?", a:"Ath√©na", c:["Ath√©na", "Circ√©", "Calypso", "P√©n√©lope"], i:"https://images.unsplash.com/photo-1533105079780-92b9be482077?w=500"},
            {q:"Pays riche et imaginaire ?", a:"Eldorado", c:["Eldorado", "L'Inde", "Sicile", "Londres"], i:"https://images.unsplash.com/photo-1534067783941-51c9c23ecefd?w=500"},
            {q:"Voyager sur l'eau ?", a:"Voguer", c:["D√©coller", "Couler", "Voguer", "Marcher"], i:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=500"},
            {q:"Magicienne de l'Odyss√©e ?", a:"Circ√©", c:["Circ√©", "Ath√©na", "P√©n√©lope", "Calypso"], i:"https://images.unsplash.com/photo-1533105079780-92b9be482077?w=500"},
            {q:"Fogg traverse quel pays ?", a:"L'Inde", c:["L'Inde", "Sicile", "Corse", "Cr√®te"], i:"https://images.unsplash.com/photo-1524492707947-2f85a512b7fb?w=500"},
            {q:"Mer entre France et Angleterre ?", a:"Manche", c:["Manche", "Suez", "Gibraltar", "Panama"], i:"https://images.unsplash.com/photo-1474487548417-781cb71495f3?w=500"},
            {q:"Nymphe qui retient Ulysse ?", a:"Calypso", c:["Calypso", "Circ√©", "P√©n√©lope", "Ath√©na"], i:"https://images.unsplash.com/photo-1533105079780-92b9be482077?w=500"},
            {q:"Autorisation d'entr√©e ?", a:"Visa", c:["Visa", "Billet", "Passeport", "Ticket"], i:"https://images.unsplash.com/photo-1539701938214-0d9736e1c16b?w=500"},
            {q:"Grand navire √† vapeur ?", a:"Paquebot", c:["Paquebot", "Caravelle", "Train", "Carrosse"], i:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=500"},
            {q:"Cr√©atures au chant dangereux ?", a:"Sir√®nes", c:["Sir√®nes", "Cyclope", "Dragon", "G√©ant"], i:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=500"},
            {q:"Le policier qui suit Fogg ?", a:"Fix", c:["Passepartout", "Ulysse", "Fix", "Aouda"], i:"https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?w=500"},
            {q:"Dieu du soleil ?", a:"H√©lios", c:["H√©lios", "Zeus", "Pos√©idon", "Had√®s"], i:"https://images.unsplash.com/photo-1503177119275-0aa32b3a9368?w=500"},
            {q:"Ulysse rentre au bout de...", a:"20 ans", c:["10 ans", "80 jours", "1 an", "20 ans"], i:"https://images.unsplash.com/photo-1533105079780-92b9be482077?w=500"},
            {q:"Auteur de Fogg ?", a:"Jules Verne", c:["Jules Verne", "Hom√®re", "Hugo", "Voltaire"], i:"https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?w=500"}
        ],
        [ // NIVEAU 3
            {q:"Le fils d'Ulysse ?", a:"T√©l√©maque", c:["T√©l√©maque", "Polyph√®me", "Fix", "H√©lios"], i:"https://images.unsplash.com/photo-1491849593786-7d903069875c?w=500"},
            {q:"Animal utilis√© par Fogg ?", a:"L'√©l√©phant", c:["L'√©l√©phant", "Paquebot", "Carrosse", "Train"], i:"https://images.unsplash.com/photo-1524492707947-2f85a512b7fb?w=500"},
            {q:"Princesse aid√©e par Fogg ?", a:"Aouda", c:["Aouda", "P√©n√©lope", "Nausicaa", "Calypso"], i:"https://images.unsplash.com/photo-1524492707947-2f85a512b7fb?w=500"},
            {q:"Le Cyclope s'appelle ?", a:"Polyph√®me", c:["Polyph√®me", "Charybde", "Scylla", "Had√®s"], i:"https://images.unsplash.com/photo-1533105079780-92b9be482077?w=500"},
            {q:"Arr√™t durant un voyage ?", a:"Escale", c:["Itin√©raire", "Escale", "Exil", "Visa"], i:"https://images.unsplash.com/photo-1503177119275-0aa32b3a9368?w=500"},
            {q:"Le ma√Ætre des vents ?", a:"√âole", c:["Zeus", "Pos√©idon", "√âole", "H√©lios"], i:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=500"},
            {q:"Le club de Phileas Fogg ?", a:"Reform Club", c:["Reform Club", "Odyss√©e", "Journal", "Livre"], i:"https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?w=500"},
            {q:"Princesse qui aide Ulysse ?", a:"Nausicaa", c:["Nausicaa", "Circ√©", "P√©n√©lope", "Aouda"], i:"https://images.unsplash.com/photo-1533105079780-92b9be482077?w=500"},
            {q:"Monstre qui tourbillonne ?", a:"Charybde", c:["Scylla", "Charybde", "Polyph√®me", "Sir√®nes"], i:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=500"},
            {q:"Ville escale en Inde ?", a:"Bombay", i:"https://images.unsplash.com/photo-1524492707947-2f85a512b7fb?w=500", c:["Bombay", "Ithaque", "Londres", "Paris"]},
            {q:"Chemin d√©taill√© √† suivre ?", a:"Itin√©raire", c:["Itin√©raire", "Boussole", "Eldorado", "Escale"], i:"https://images.unsplash.com/photo-1503177119275-0aa32b3a9368?w=500"},
            {q:"Indiquer le Nord ?", a:"Boussole", c:["Boussole", "Visa", "Billet", "Passeport"], i:"https://images.unsplash.com/photo-1503177119275-0aa32b3a9368?w=500"},
            {q:"Ulysse descend chez...", a:"Had√®s", c:["Had√®s", "Zeus", "Pos√©idon", "H√©lios"], i:"https://images.unsplash.com/photo-1491849593786-7d903069875c?w=500"},
            {q:"Traverser l'Atlantique ?", a:"Transatlantique", c:["Transatlantique", "Accoster", "Voguer", "Escale"], i:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=500"},
            {q:"Ancien navire √† voiles ?", a:"Caravelle", c:["Paquebot", "Caravelle", "Avion", "Train"], i:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=500"}
        ]
    ];

    let currentLvl = 0; let currentQ = 0; let score = 0;

    window.onload = function() { loadQuestion(); };

    function loadQuestion() {
        const data = levels[currentLvl][currentQ];
        document.getElementById('lvl-display').innerText = `NIVEAU ${currentLvl + 1}`;
        document.getElementById('q-img').src = data.i;
        document.getElementById('q-text').innerText = data.q;
        document.getElementById('q-counter').innerText = `Question ${currentQ + 1} / 15`;
        document.getElementById('progress-bar').style.width = ((currentQ / 15) * 100) + "%";
        
        const grid = document.getElementById('grid');
        grid.innerHTML = "";
        data.c.forEach(choice => {
            const btn = document.createElement('div');
            btn.className = "opt-btn";
            btn.innerText = choice;
            btn.onclick = () => verify(btn, choice, data.a);
            grid.appendChild(btn);
        });
        document.getElementById('feedback').style.display = 'none';
        document.getElementById('next-btn').style.display = 'none';
    }

    function verify(el, choice, correct) {
        const fb = document.getElementById('feedback');
        document.querySelectorAll('.opt-btn').forEach(b => b.onclick = null);
        fb.style.display = 'block';

        if (choice === correct) {
            el.classList.add('animate-correct');
            fb.className = "feedback-box is-correct";
            fb.innerHTML = `‚úÖ CORRECT ! <br> <b>${choice}</b> : ${dict[choice]}`;
            score++;
        } else {
            el.classList.add('animate-error');
            fb.className = "feedback-box is-wrong";
            fb.innerHTML = `‚ùå INCORRECT ! <br> Tu as choisi <b>${choice}</b> : ${dict[choice]}`;
            document.querySelectorAll('.opt-btn').forEach(b => { if(b.innerText === correct) b.style.borderColor = "#22c55e"; });
        }
        document.getElementById('next-btn').style.display = 'block';
    }

    function goToNext() {
        currentQ++;
        if (currentQ < 15) {
            loadQuestion();
        } else {
            finishPalier();
        }
    }

    function finishPalier() {
        confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
        const pseudo = prompt("Bravo ! Ton nom pour le classement :") || "Anonyme";
        envoyerResultat(pseudo, score);

        const hasNext = currentLvl < levels.length - 1;
        document.getElementById('quiz-ui').innerHTML = `
            <div class="py-10">
                <div class="text-6xl mb-4">üèÜ</div>
                <h2 class="text-2xl font-black text-slate-700 uppercase">Niveau ${currentLvl + 1} Termin√© !</h2>
                <p class="text-lg font-bold text-sky-600 mt-2">Score : ${score} / 15</p>
                <p class="text-[10px] text-slate-400 mt-2">Score enregistr√© pour ${pseudo}</p>
                <button onclick="${hasNext ? 'nextLevel()' : 'window.location.href=\'index.html\''}" class="mt-8 bg-sky-500 text-white px-10 py-4 rounded-2xl font-black shadow-lg uppercase tracking-wide w-full">
                    ${hasNext ? 'Passer au Niveau ' + (currentLvl + 2) : 'Voir le classement g√©n√©ral'}
                </button>
            </div>`;
    }

    function nextLevel() {
        currentLvl++; currentQ = 0; score = 0;
        document.getElementById('quiz-ui').innerHTML = `
            <div id="q-counter" class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Question 1 / 15</div>
            <h2 id="q-text" class="question-text"></h2>
            <div id="
